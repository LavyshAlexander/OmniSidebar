@namespace url(http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul);
@-moz-document url("chrome://browser/content/browser.xul") {

	/* Alternate toolbar buttons style */
	/* NavBar button effect, copied from http://mxr.mozilla.org/mozilla-central/source/browser/themes/windows/browser.css */
	/* This really needs !important tags in a lot of places, and I didn't feel like going through all declarations to figure out which ones actually needed them */
	
	:-moz-any(.sidebar-box:not([glassStyle]), .PanelUI-subView) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1 > .toolbarbutton-menubutton-button,
	:-moz-any(.sidebar-box:not([glassStyle]), .PanelUI-subView) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1 {
		-moz-appearance: none !important;
	}
	
	:-moz-any(.sidebar-box:not([glassStyle]), .PanelUI-subView) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1[open="true"],
	:-moz-any(.sidebar-box:not([glassStyle]), .PanelUI-subView) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1:hover:active {
		padding: 3px !important;
	}
	
	:-moz-any(.sidebar-box:not([glassStyle]), .PanelUI-subView) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1 > .toolbarbutton-menubutton-button > .toolbarbutton-icon,
	:-moz-any(.sidebar-box:not([glassStyle]), .PanelUI-subView) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1 > .toolbarbutton-menubutton-dropmarker > .dropmarker-icon,
	:-moz-any(.sidebar-box:not([glassStyle]), .PanelUI-subView) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1 > .toolbarbutton-badge-container > .toolbarbutton-icon,
	:-moz-any(.sidebar-box:not([glassStyle]), .PanelUI-subView) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1 > .toolbarbutton-icon {
		-moz-margin-end: 0 !important;
		padding: 2px 6px !important;
		border: 1px solid transparent !important;
		border-radius: 2px !important;
		transition-property: background-color, border-color !important;
		transition-duration: 150ms !important;
	}
	
	:-moz-any(.sidebar-box:not([glassStyle]), .PanelUI-subView) .omnisidebar-toolbar[alternatebtns] toolbarbutton[sdk-button="true"][cui-areatype="toolbar"] > .toolbarbutton-icon {
		/* XXXgijs box models strike again: this is 16px + 2 * 7px padding + 2 * 1px border (from the rules above) */
		width: 32px !important;
	}
	
	:-moz-any(.sidebar-box:not([glassStyle]), .PanelUI-subView) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1:not([disabled=true]):hover > .toolbarbutton-menubutton-button > .toolbarbutton-icon,
	:-moz-any(.sidebar-box:not([glassStyle]), .PanelUI-subView) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1:not([disabled=true]):hover > .toolbarbutton-menubutton-dropmarker > .dropmarker-icon,
	:-moz-any(.sidebar-box:not([glassStyle]), .PanelUI-subView) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1:not([disabled=true]):hover > .toolbarbutton-badge-container > .toolbarbutton-icon,
	:-moz-any(.sidebar-box:not([glassStyle]), .PanelUI-subView) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1:not([disabled=true]):hover > .toolbarbutton-icon {
		background-color: hsla(0,0%,100%,.3) !important;
		background-image: linear-gradient(hsla(0,0%,100%,.7), hsla(0,0%,100%,.2)) !important;
		border: 1px solid rgb(154,154,154) !important;
		box-shadow: 0 1px 0 hsla(0,0%,100%,.3) inset, 0 0 0 1px hsla(0,0%,100%,.2) inset, 0 1px 0 hsla(0,0%,0%,.03) !important;
	}
	
	:-moz-any(.sidebar-box:not([glassStyle]), .PanelUI-subView) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1:hover > .toolbarbutton-menubutton-dropmarker > .dropmarker-icon,
	:-moz-any(.sidebar-box:not([glassStyle]), .PanelUI-subView) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1[open] > .toolbarbutton-menubutton-dropmarker > .dropmarker-icon {
		margin-top: 4px !important;
		margin-bottom: 4px !important;
	}
	
	:-moz-any(.sidebar-box:not([glassStyle]), .PanelUI-subView) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1 > .toolbarbutton-menubutton-button:not([disabled=true]):hover:active > .toolbarbutton-icon,
	:-moz-any(.sidebar-box:not([glassStyle]), .PanelUI-subView) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1[open="true"] > .toolbarbutton-menubutton-dropmarker:not([disabled=true]) > .dropmarker-icon,
	:-moz-any(.sidebar-box:not([glassStyle]), .PanelUI-subView) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1:not([disabled=true]):-moz-any([open],[checked],:hover:active) > .toolbarbutton-badge-container > .toolbarbutton-icon,
	:-moz-any(.sidebar-box:not([glassStyle]), .PanelUI-subView) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1:not([disabled=true]):-moz-any([open],[checked],:hover:active) > .toolbarbutton-icon {
		background-color: rgba(154,154,154,.5) !important;
		background-image: linear-gradient(hsla(0,0%,100%,.7), hsla(0,0%,100%,.4)) !important;
		border: 1px solid rgb(154,154,154) !important;
		box-shadow: 0 1px 1px hsla(0,0%,0%,.1) inset, 0 0 1px hsla(0,0%,0%,.3) inset !important;
		transition-duration: 10ms !important;
	}
	
	:-moz-any(.sidebar-box:not([glassStyle]), .PanelUI-subView) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1[checked]:not(:active):hover > .toolbarbutton-icon {
		background-color: rgba(90%,90%,90%,.4) !important;
		transition: background-color 150ms !important;
	}
	
	:-moz-any(.sidebar-box:not([glassStyle]), .PanelUI-subView) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1 > .toolbarbutton-menubutton-button:hover:active,
	:-moz-any(.sidebar-box:not([glassStyle]), .PanelUI-subView) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1:hover:active {
		padding: 3px !important;
	}
	
	:-moz-any(.sidebar-box:not([glassStyle]), .PanelUI-subView) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1:not(:hover):not(:active):not([open]) > .toolbarbutton-menubutton-dropmarker::before {
		content: "" !important;
		display: -moz-box !important;
		width: 1px !important;
		height: 18px !important;
		-moz-margin-end: -1px !important;
		background-image: linear-gradient(hsla(210,54%,20%,.2) 0, hsla(210,54%,20%,.2) 18px) !important;
		background-clip: padding-box !important;
		background-position: center !important;
		background-repeat: no-repeat !important;
		background-size: 1px 18px !important;
		box-shadow: 0 0 0 1px hsla(0,0%,100%,.2) !important;
	}
	
	:-moz-any(.sidebar-box:not([glassStyle]), .PanelUI-subView) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1 > .toolbarbutton-menubutton-dropmarker {
		-moz-margin-start: -4px !important;
		margin-top: 3px !important;
		margin-bottom: 3px !important;
	}

}
