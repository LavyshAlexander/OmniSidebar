@namespace url(http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul);
@-moz-document url("chrome://browser/content/browser.xul") {

	/* Alternate toolbar buttons style */
	/* NavBar button effect, copied from http://mxr.mozilla.org/mozilla-central/source/browser/themes/windows/browser.css */
	/* This really needs !important tags in a lot of places, and I didn't feel like going through all declarations to figure out which ones actually needed them */
	
	.sidebar-box:not([glassStyle]) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1,
	.sidebar-box:not([glassStyle]) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1 > .toolbarbutton-menubutton-button {
		-moz-appearance: none !important;
		border: none !important;
		padding: 0 !important;
		background: none !important;
	}
	
	.sidebar-box:not([glassStyle]) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1:not([type=menu-button]),
	.sidebar-box:not([glassStyle]) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1 > .toolbarbutton-menubutton-button,
	.sidebar-box:not([glassStyle]) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1 > .toolbarbutton-menubutton-dropmarker {
		padding: 1px 2px !important;
		-moz-box-pack: center !important;
	}
	
	.sidebar-box:not([glassStyle]) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1[type=menu] {
		padding-left: 5px !important;
		padding-right: 5px !important;
	}
	
	.sidebar-box:not([glassStyle]) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1 > menupopup {
		margin-top: -3px !important;
	}
	
	.sidebar-box:not([glassStyle]) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1 > menupopup.cui-widget-panel {
		margin-top: -8px !important;
	}
	
	.sidebar-box:not([glassStyle]) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1 > .toolbarbutton-menubutton-button {
		-moz-padding-end: 0 !important;
	}
	
	.sidebar-box:not([glassStyle]) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1 > .toolbarbutton-menubutton-dropmarker {
		-moz-padding-start: 0 !important;
		-moz-box-align: center !important;
	}
	
	.sidebar-box:not([glassStyle]) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1 > .toolbarbutton-icon,
	.sidebar-box:not([glassStyle]) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1 > .toolbarbutton-text,
	.sidebar-box:not([glassStyle]) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1 > .toolbarbutton-badge-container,
	.sidebar-box:not([glassStyle]) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1 > .toolbarbutton-menubutton-button > .toolbarbutton-icon,
	.sidebar-box:not([glassStyle]) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1 > .toolbarbutton-menubutton-dropmarker > .dropmarker-icon {
		padding: 2px 6px !important;
		border: 1px solid !important;
		border-color: transparent !important;
		transition-property: background-color, border-color !important;
		transition-duration: 150ms !important;
	}
	
	@media	(-moz-os-version: windows-xp),
		(-moz-os-version: windows-vista),
		(-moz-os-version: windows-win7) {
		
		.sidebar-box:not([glassStyle]) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1 > .toolbarbutton-icon,
		.sidebar-box:not([glassStyle]) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1 > .toolbarbutton-text,
		.sidebar-box:not([glassStyle]) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1 > .toolbarbutton-badge-container,
		.sidebar-box:not([glassStyle]) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1 > .toolbarbutton-menubutton-button > .toolbarbutton-icon,
		.sidebar-box:not([glassStyle]) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1 > .toolbarbutton-menubutton-dropmarker > .dropmarker-icon {
			background-color: hsla(210,32%,93%,0) !important;
			background-origin: padding-box !important;
			border-radius: 2px !important;
			border-color: hsla(210,54%,20%,0) hsla(210,54%,20%,0) hsla(210,54%,20%,0) !important;
			box-shadow: 0 1px hsla(0,0%,100%,0) inset, 0 1px hsla(210,54%,20%,0), 0 0 2px hsla(210,54%,20%,0) !important;
			transition-property: background-color, border-color, box-shadow !important;
			transition-duration: 150ms !important;
		}
	}
	
	.sidebar-box:not([glassStyle]) .omnisidebar-toolbar[alternatebtns] toolbarbutton[sdk-button="true"][cui-areatype="toolbar"] > .toolbarbutton-icon {
		/* XXXgijs box models strike again: this is 16px + 2 * 7px padding + 2 * 1px border (from the rules above) */
		width: 32px !important;
	}
	
	.sidebar-box:not([glassStyle]) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1[type=menu] > .toolbarbutton-icon,
	.sidebar-box:not([glassStyle]) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1[type=menu] > .toolbarbutton-text /* hack for add-ons that forcefully display the label */ {
		-moz-padding-end: 17px !important;
	}
	
	.sidebar-box:not([glassStyle]) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1 > .toolbarbutton-menu-dropmarker {
		-moz-margin-start: -15px !important;
	}
	
	.sidebar-box:not([glassStyle]) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1 > .toolbarbutton-menubutton-button > .toolbarbutton-icon {
		-moz-border-end: none !important;
	}
	
	.sidebar-box:not([glassStyle]) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1 > .toolbarbutton-menubutton-dropmarker > .dropmarker-icon {
		padding: 8px 5px 7px !important;
	}
	
	.sidebar-box:not([glassStyle]) .omnisidebar-toolbar[alternatebtns] .toolbaritem-combined-buttons {
		margin-left: 2px !important;
		margin-right: 2px !important;
	}
	
	.sidebar-box:not([glassStyle]) .omnisidebar-toolbar[alternatebtns] .toolbaritem-combined-buttons > .toolbarbutton-1 {
		padding-left: 0 !important;
		padding-right: 0 !important;
	}
	
	.sidebar-box:not([glassStyle]) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1:not(:hover):not(:active):not([open]) > .toolbarbutton-menubutton-dropmarker::before,
	.sidebar-box:not([glassStyle]) .omnisidebar-toolbar[alternatebtns] .toolbaritem-combined-buttons > .toolbarbutton-1:-moz-any(:not(:hover):not([open]),[disabled=true]) + .toolbarbutton-1:-moz-any(:not(:hover):not([open]),[disabled=true])::before {
		content: "" !important;
		display: -moz-box !important;
		width: 1px !important;
		height: 16px !important;
		-moz-margin-end: -1px !important;
		background-image: linear-gradient(hsla(210,54%,20%,.2) 0, hsla(210,54%,20%,.2) 16px) !important;
		background-clip: padding-box !important;
		background-position: center !important;
		background-repeat: no-repeat !important;
		background-size: 1px 16px !important;
	}
	
	.sidebar-box:not([glassStyle]) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1:not([disabled=true]):-moz-any(:hover,[open]) > .toolbarbutton-menubutton-button > .toolbarbutton-icon,
	.sidebar-box:not([glassStyle]) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1:not([disabled=true]):-moz-any(:hover,[open]) > .toolbarbutton-menubutton-dropmarker > .dropmarker-icon,
	.sidebar-box:not([glassStyle]) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1:not([disabled=true]):not([checked]):not([open]):not(:active):hover > .toolbarbutton-icon,
	.sidebar-box:not([glassStyle]) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1:not([disabled=true]):not([checked]):not([open]):not(:active):hover > .toolbarbutton-text,
	.sidebar-box:not([glassStyle]) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1:not([disabled=true]):not([checked]):not([open]):not(:active):hover > .toolbarbutton-badge-container,
	.sidebar-box:not([glassStyle]) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1:not([buttonover]):not([open]):not(:active):hover > .toolbarbutton-menubutton-dropmarker:not([disabled]) > .dropmarker-icon {
		background-color: hsla(210,4%,10%,.08) !important;
		border-color: hsla(210,4%,10%,.1) !important;
	}
	
	@media	(-moz-os-version: windows-xp),
		(-moz-os-version: windows-vista),
		(-moz-os-version: windows-win7) {
	
		.sidebar-box:not([glassStyle]) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1:not(:hover):not(:active):not([open]) > .toolbarbutton-menubutton-dropmarker::before,
		.sidebar-box:not([glassStyle]) .omnisidebar-toolbar[alternatebtns] .toolbaritem-combined-buttons > .toolbarbutton-1:-moz-any(:not(:hover):not([open]),[disabled]) + .toolbarbutton-1:-moz-any(:not(:hover):not([open]),[disabled])::before {
			content: "" !important;
			display: -moz-box !important;
			width: 1px !important;
			height: 18px !important;
			-moz-margin-end: -1px !important;
			background-image: linear-gradient(hsla(210,54%,20%,.2) 0, hsla(210,54%,20%,.2) 18px) !important;
			background-clip: padding-box !important;
			background-position: center !important;
			background-repeat: no-repeat !important;
			background-size: 1px 18px !important;
			box-shadow: 0 0 0 1px hsla(0,0%,100%,.2) !important;
		}
		
		.sidebar-box:not([glassStyle]) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1 > .toolbarbutton-menubutton-button > .toolbarbutton-icon:-moz-locale-dir(ltr),
		.sidebar-box:not([glassStyle]) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1 > .toolbarbutton-menubutton-dropmarker > .dropmarker-icon:-moz-locale-dir(rtl) {
			border-top-right-radius: 0 !important;
			border-bottom-right-radius: 0 !important;
		}
		.sidebar-box:not([glassStyle]) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1 > .toolbarbutton-menubutton-button > .toolbarbutton-icon:-moz-locale-dir(rtl),
		.sidebar-box:not([glassStyle]) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1 > .toolbarbutton-menubutton-dropmarker > .dropmarker-icon:-moz-locale-dir(ltr) {
			border-top-left-radius: 0 !important;
			border-bottom-left-radius: 0 !important;
		}
		
		.sidebar-box:not([glassStyle]) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1:not([disabled]):-moz-any(:hover,[open]) > .toolbarbutton-menubutton-button > .toolbarbutton-icon,
		.sidebar-box:not([glassStyle]) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1:not([disabled]):hover > .toolbarbutton-menubutton-dropmarker > .dropmarker-icon,
		.sidebar-box:not([glassStyle]) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1:not([disabled]):not([checked]):not([open]):not(:active):hover > .toolbarbutton-icon,
		.sidebar-box:not([glassStyle]) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1:not([disabled]):not([checked]):not([open]):not(:active):hover > .toolbarbutton-text,
		.sidebar-box:not([glassStyle]) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1:not([disabled]):not([checked]):not([open]):not(:active):hover > .toolbarbutton-badge-container {
			background-image: linear-gradient(hsla(0,0%,100%,.6), hsla(0,0%,100%,.1)) !important;
			background-color: transparent !important;
			border-color: hsla(210,54%,20%,.15) hsla(210,54%,20%,.2) hsla(210,54%,20%,.25) !important;
			box-shadow: 0 1px hsla(0,0%,100%,.3) inset, 0 1px hsla(210,54%,20%,.03), 0 0 2px hsla(210,54%,20%,.1) !important;
		}
		
		.sidebar-box:not([glassStyle]) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1 > .toolbarbutton-menubutton-button:not([disabled]):not([open]):not(:active):hover > .toolbarbutton-icon,
		.sidebar-box:not([glassStyle]) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1:not([buttonover]):not([open]):not(:active):hover > .toolbarbutton-menubutton-dropmarker:not([disabled]) > .dropmarker-icon {
			border-color: hsla(210,54%,20%,.3) hsla(210,54%,20%,.35) hsla(210,54%,20%,.4) !important;
			background-color: hsla(210,48%,96%,.75) !important;
			box-shadow: 0 0 1px hsla(210,54%,20%,.03), 0 0 2px hsla(210,54%,20%,.1) !important;
		}
	}
	
	.sidebar-box:not([glassStyle]) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1 > .toolbarbutton-menubutton-button:not([disabled=true]):hover:active > .toolbarbutton-icon,
	.sidebar-box:not([glassStyle]) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1[open] > .toolbarbutton-menubutton-dropmarker:not([disabled=true]) > .dropmarker-icon,
	.sidebar-box:not([glassStyle]) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1:not([disabled=true]):-moz-any([open],[checked],:hover:active) > .toolbarbutton-icon,
	.sidebar-box:not([glassStyle]) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1:not([disabled=true]):-moz-any([open],[checked],:hover:active) > .toolbarbutton-text,
	.sidebar-box:not([glassStyle]) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1:not([disabled=true]):-moz-any([open],[checked],:hover:active) > .toolbarbutton-badge-container {
		background-color: hsla(210,4%,10%,.12) !important;
		border-top-color: hsla(210,4%,10%,.2) !important;
		box-shadow: 0 1px 0 0 hsla(210,4%,10%,.1) inset !important;
		transition-duration: 10ms !important;
	}
	
	@media	(-moz-os-version: windows-xp),
		(-moz-os-version: windows-vista),
		(-moz-os-version: windows-win7) {
	
		.sidebar-box:not([glassStyle]) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1 > .toolbarbutton-menubutton-button:not([disabled]):hover:active > .toolbarbutton-icon,
		.sidebar-box:not([glassStyle]) .omnisidebar-toolbar[alternatebtns].toolbarbutton-1[open] > .toolbarbutton-menubutton-dropmarker:not([disabled]) > .dropmarker-icon,
		.sidebar-box:not([glassStyle]) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1:not([disabled]):-moz-any([open],[checked],:hover:active) > .toolbarbutton-icon,
		.sidebar-box:not([glassStyle]) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1:not([disabled]):-moz-any([open],[checked],:hover:active) > .toolbarbutton-text,
		.sidebar-box:not([glassStyle]) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1:not([disabled]):-moz-any([open],[checked],:hover:active) > .toolbarbutton-badge-container {
			background-image: linear-gradient(hsla(0,0%,100%,.6), hsla(0,0%,100%,.1)) !important;
			background-color: hsla(210,54%,20%,.15) !important;
			border-color: hsla(210,54%,20%,.3) hsla(210,54%,20%,.35) hsla(210,54%,20%,.4) !important;
			box-shadow: 0 1px 1px hsla(210,54%,20%,.1) inset, 0 0 1px hsla(210,54%,20%,.2) inset, 0 1px 0 hsla(210,54%,20%,0), 0 0 2px hsla(210,54%,20%,0) !important;
			text-shadow: none !important;
			transition: none !important;
		}
		
		.sidebar-box:not([glassStyle]) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1:-moz-any(:hover,[open]) > .toolbarbutton-menubutton-dropmarker:not([disabled]) > .dropmarker-icon {
			-moz-border-start-color: hsla(210,54%,20%,.35) !important;
		}
		
		.sidebar-box:not([glassStyle]) .omnisidebar-toolbar[alternatebtns] .toolbarbutton-1[checked]:not(:active):hover > .toolbarbutton-icon {
			background-color: rgba(90%,90%,90%,.4) !important;
			transition: background-color .4s !important;
		}
	}

}
